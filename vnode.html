<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const items = [
        {
          id: 0,
          quantity: 20,
          name: '小米9',
          price: 20,
          isSale: false,
        },
        {
          id: 1,
          quantity: 18,
          name: '小米10pro',
          price: 120,
          isSale: true,
        },
        {
          id: 2,
          quantity: 15,
          name: '小米2s',
          price: 220,
          isSale: false,
        },
        {
          id: 3,
          quantity: 10,
          name: '小米mix2',
          price: 200,
          isSale: true,
        },
      ];

      function init() {
        let text = '';
        items.forEach((item) => {
          text += `
        <p>quantity: {{ ${item.quantity} }}</p>
        <p>name: {{ ${item.name} }}</p>
        <p>price: {{ ${item.price} }}</p>
        <p>isSale: {{ ${item.isSale} }}</p>
        <button onclick="del(${item.id})">删除</button>
        <button onclick="updateProduct(${item.id})">更新</button>
        `;
        });
        document.body.innerHTML = text;
      }
      init()

      function del(id) {
        console.log(id);
        const getPro = getProduct(id);
        getPro.name = '小米9pro';
        console.log(items);
        init()
      }
      function updateProduct(id) {
        console.log(id);
      }

      function getProduct(id) {
        return items.find((item) => item.id === id);
      }

      const obj = {
        a: 1,
        b: 20,
      };

      function a1(obj) {
        obj.a += 1;
        obj.b -= 1;
      }
      a1(obj);
      console.log(obj);

      var num = 1;
      function a2(n) {
        console.log('n', n); // 1
        console.log('a2 num before', num);
        num++; // 整个打印为1, num++后内存中为2
        console.log('a2 num++ after', num++); // 2
        console.log('a2 num++ after1', num); // 3
        console.log('a2 num++ after2', ++num); // 4
        console.log('numafter', n); // 1
        console.log('numafter1', ++n); // 2
        ++num;
      }
      a2(num); // 复制了全局的num
      num++;
      console.log('num', ++num, num++); // 7
      console.log('++num++', num); // 8
    </script>
  </body>
</html>
